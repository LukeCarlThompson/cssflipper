!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("cssflipper",e):(t=t||self).cssflipper=e()}(this,function(){"use strict";return function(t){void 0===t&&(t={});var e=t.target,n=t.from,s=t.to,i=t.duration;void 0===i&&(i=500);var r=t.easing;void 0===r&&(r=[.77,.5,.175,1]);var o=function(t){return t instanceof Element||t instanceof HTMLDocument},a=function(t){return o(t)?t:document.querySelector(t)};if(o(a(e))){i=.001*i+"s";var l=a(e);if(l.classList.contains("is-flipping"))console.log("cssFlipper is animating --\x3e",l);else{var f=function(t){var e=window.getComputedStyle(t),n=("none"!=e.getPropertyValue("transform")?e.getPropertyValue("transform"):"matrix(0,0,0,0,0,0)").split("(")[1].split(")")[0].split(","),s=n[0],i=n[1];return Math.round(Math.atan2(i,s)*(180/Math.PI))};l.classList.add("is-flipping");var c=f(l);l.style.transform="rotate(0)";var p=l.getBoundingClientRect();l.removeAttribute("style"),console.log("from Angle --\x3e",c),l.addEventListener("transitionend",function(){this.removeAttribute("style"),this.classList.remove("is-flipping")}),"object"==typeof r&&(r="cubic-bezier("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"),l.style.transition="none",l.classList.remove(n),l.classList.add(s);var d=f(l);console.log("toAngle --\x3e",d),l.style.transform="rotate(0)";var u=l.getBoundingClientRect(),g=p.top+p.height/2-(u.top+u.height/2),m=p.left+p.width/2-(u.left+u.width/2),h=p.width/u.width,v=p.height/u.height;l.style.transformOrigin="center center",l.style.transform="translateX("+m+"px) translateY("+g+"px) rotateZ("+c+"deg) scaleX("+h+") scaleY("+v+")",l.offsetHeight,l.style.transition="transform "+i+" "+r,l.style.transform="translateX(0) translateY(0) rotateZ("+d+"deg) scale(1)"}}else console.error("cssFlipper --\x3e please specify a target")}});